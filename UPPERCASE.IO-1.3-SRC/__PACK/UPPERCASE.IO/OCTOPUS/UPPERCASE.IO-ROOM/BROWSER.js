global.CONNECT_TO_ROOM_SERVER=CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,e,E,i,a,d,u,c=[],_=[],O=[];return o.enterRoom=E=function(o){void 0===e?c.push(o):e({methodName:"__ENTER_ROOM",data:o})},o.on=i=function(o,t){void 0===n?_.push({methodName:o,method:t}):n(o,t)},o.off=a=function(o,n){void 0!==_?void 0!==n?REMOVE(_,function(t){return t.methodName===o&&t.method===n}):REMOVE(_,function(n){return n.methodName===o}):t(o,n)},o.send=d=function(o,n){void 0===e?O.push({params:o,callback:n}):e(o,n)},o.exitRoom=u=function(o){void 0!==c?REMOVE({data:c,value:o}):e({methodName:"__EXIT_ROOM",data:o})},{run:function(o,E){var i,a;CHECK_IS_DATA(E)!==!0?i=E:(i=E.success,a=E.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:a,success:function(o,E,a){n=o,t=E,e=a,EACH(c,function(o){e({methodName:"__ENTER_ROOM",data:o})}),c=void 0,EACH(_,function(o){n(o.methodName,o.method)}),_=void 0,EACH(O,function(o){e(o.params,o.callback)}),O=void 0,n("__DISCONNECTED",function(){n=void 0,t=void 0,e=void 0}),i()}})}}});