window.ActiveXObject&&!window.CanvasRenderingContext2D&&!function(window,document,undefined){function onReadyStateChange(){if("complete"===document.readyState){document.detachEvent(ON_READY_STATE_CHANGE,onReadyStateChange);for(var t=document.getElementsByTagName(CANVAS),e=0,i=t.length;i>e;++e)FlashCanvas.initElement(t[e])}}function onFocus(){var t=event.srcElement,e=t.parentNode;t.blur(),e.focus()}function onMouseDown(){if(2&event.button){var t=event.srcElement.parentNode;t.setCapture()}}function onMouseUp(){if(2&event.button){var t=event.srcElement.parentNode;t.releaseCapture()}}function onPropertyChange(){var t=event.propertyName;if("width"===t||"height"===t){var e=event.srcElement,i=e[t],s=parseInt(i,10);(isNaN(s)||0>s)&&(s="width"===t?300:150),i===s?(e.style[t]=s+"px",e.getContext("2d")._resize(e.width,e.height)):e[t]=s}}function onUnload(){window.detachEvent(ON_UNLOAD,onUnload);for(var t in canvases){var e,i=canvases[t],s=i.firstChild;for(e in s)"function"==typeof s[e]&&(s[e]=NULL);for(e in i)"function"==typeof i[e]&&(i[e]=NULL);s.detachEvent(ON_FOCUS,onFocus),s.detachEvent(ON_MOUSE_DOWN,onMouseDown),i.detachEvent(ON_MOUSE_UP,onMouseUp),i.detachEvent(ON_PROPERTY_CHANGE,onPropertyChange)}window[CANVAS_RENDERING_CONTEXT_2D]=NULL,window[CANVAS_GRADIENT]=NULL,window[CANVAS_PATTERN]=NULL,window[FLASH_CANVAS]=NULL,window[G_VML_CANVAS_MANAGER]=NULL}function getFlashPlayerVersion(){try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/[\d,]+/)[0].replace(/,/g,".")}catch(t){return FALSE}}function getScriptUrl(){var t=document.getElementsByTagName("script"),e=t[t.length-1];return document.documentMode>=8?e.src:e.getAttribute("src",4)}function getUniqueId(){return Math.random().toString(36).slice(2)||"0"}function encodeXML(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function toLowerCase(t){return t.toLowerCase()}function throwException(t){throw new DOMException(t)}function setCanvasSize(t){var e=parseInt(t.width,10),i=parseInt(t.height,10);(isNaN(e)||0>e)&&(e=300),(isNaN(i)||0>i)&&(i=150),t.width=e,t.height=i}function disableContextMenu(t){for(var e in canvases){var i=canvases[e],s=i.firstChild,n=t?"attachEvent":"detachEvent";s[n](ON_MOUSE_DOWN,onMouseDown),i[n](ON_MOUSE_UP,onMouseUp)}}function setOption(t,e){for(var i in canvases){var s=canvases[i],n=s.getContext("2d");n._texts.push(n._queue.length+2),n._queue.push(OPTION,t,e)}}var TRUE=1,FALSE=0,NULL=null,CANVAS="canvas",CANVAS_RENDERING_CONTEXT_2D="CanvasRenderingContext2D",CANVAS_GRADIENT="CanvasGradient",CANVAS_PATTERN="CanvasPattern",FLASH_CANVAS="FlashCanvas",G_VML_CANVAS_MANAGER="G_vmlCanvasManager",OBJECT_ID_PREFIX="external",ON_FOCUS="onfocus",ON_MOUSE_DOWN="onmousedown",ON_MOUSE_UP="onmouseup",ON_PROPERTY_CHANGE="onpropertychange",ON_READY_STATE_CHANGE="onreadystatechange",ON_UNLOAD="onunload",FLASH_PLAYER_VERSION=getFlashPlayerVersion(),config=window[FLASH_CANVAS+"Options"]||{},BASE_URL=getScriptUrl().replace(/[^\/]+$/,""),SWF_URL=config.swfPath||BASE_URL;SWF_URL+=parseInt(FLASH_PLAYER_VERSION)>9?"flash10canvas.swf":"flash9canvas.swf";var TO_DATA_URL="A",SAVE="B",RESTORE="C",SCALE="D",ROTATE="E",TRANSLATE="F",TRANSFORM="G",SET_TRANSFORM="H",GLOBAL_ALPHA="I",GLOBAL_COMPOSITE_OPERATION="J",STROKE_STYLE="K",FILL_STYLE="L",CREATE_LINEAR_GRADIENT="M",CREATE_RADIAL_GRADIENT="N",CREATE_PATTERN="O",LINE_WIDTH="P",LINE_CAP="Q",LINE_JOIN="R",MITER_LIMIT="S",SHADOW_OFFSET_X="T",SHADOW_OFFSET_Y="U",SHADOW_BLUR="V",SHADOW_COLOR="W",CLEAR_RECT="X",FILL_RECT="Y",STROKE_RECT="Z",BEGIN_PATH="a",CLOSE_PATH="b",MOVE_TO="c",LINE_TO="d",QUADRATIC_CURVE_TO="e",BEZIER_CURVE_TO="f",ARC_TO="g",RECT="h",ARC="i",FILL="j",STROKE="k",CLIP="l",IS_POINT_IN_PATH="m",DRAW_FOCUS_RING="n",FONT="o",TEXT_ALIGN="p",TEXT_BASELINE="q",FILL_TEXT="r",STROKE_TEXT="s",MEASURE_TEXT="t",DRAW_IMAGE="u",CREATE_IMAGE_DATA="v",GET_IMAGE_DATA="w",PUT_IMAGE_DATA="x",ADD_COLOR_STOP="y",DIRECTION="1",RESIZE="2",CAPTURE="3",OPTION="4",DICTIONARY="5",LOAD_FONT="6",ATTRIBUTE_IMAGE=0,ATTRIBUTE_FILL=1,ATTRIBUTE_STROKE=2,ATTRIBUTE_LINE=4,ATTRIBUTE_TEXT=8,INDEX_SIZE_ERR=1,NOT_SUPPORTED_ERR=9,INVALID_STATE_ERR=11,SYNTAX_ERR=12,TYPE_MISMATCH_ERR=17,SECURITY_ERR=18,isReady={},imageIds={},urls={},imageCounter={},lock={},captures={},callbacks={},canvases={},spans={},option={autoinit:"autoinit"in config?config.autoinit:TRUE,turbo:"turbo"in config?config.turbo:TRUE,delay:config.delay||0,disableContextMenu:config.disableContextMenu||FALSE,imageCacheSize:config.imageCacheSize||100,usePolicyFile:config.usePolicyFile||FALSE,proxy:config.proxy||"proxy.php",save:config.save||"save.php"};"10.1.53.64"===FLASH_PLAYER_VERSION&&(option.turbo=FALSE,option.delay=30);var CanvasRenderingContext2D=function(t,e){this.canvas=t,this._swf=e,this._canvasId=e.id.slice(8),this._initialize(),this._gradientPatternId=0,this._direction="",this._font="",this._captured=FALSE};CanvasRenderingContext2D.prototype={save:function(){this._setAttribute(ATTRIBUTE_FILL|ATTRIBUTE_STROKE|ATTRIBUTE_LINE|ATTRIBUTE_TEXT),this._stateStack.push([this._globalAlpha,this._globalCompositeOperation,this._strokeStyle,this._fillStyle,this._lineWidth,this._lineCap,this._lineJoin,this._miterLimit,this._shadowOffsetX,this._shadowOffsetY,this._shadowBlur,this._shadowColor,this._font,this._textAlign,this._textBaseline]),this._queue.push(SAVE)},restore:function(){var t=this._stateStack;if(t.length){var e=t.pop();this.globalAlpha=e[0],this.globalCompositeOperation=e[1],this.strokeStyle=e[2],this.fillStyle=e[3],this.lineWidth=e[4],this.lineCap=e[5],this.lineJoin=e[6],this.miterLimit=e[7],this.shadowOffsetX=e[8],this.shadowOffsetY=e[9],this.shadowBlur=e[10],this.shadowColor=e[11],this.font=e[12],this.textAlign=e[13],this.textBaseline=e[14]}this._queue.push(RESTORE)},scale:function(t,e){this._queue.push(SCALE,t,e)},rotate:function(t){this._queue.push(ROTATE,t)},translate:function(t,e){this._queue.push(TRANSLATE,t,e)},transform:function(t,e,i,s,n,a){this._queue.push(TRANSFORM,t,e,i,s,n,a)},setTransform:function(t,e,i,s,n,a){this._queue.push(SET_TRANSFORM,t,e,i,s,n,a)},createLinearGradient:function(t,e,i,s){return isFinite(t)&&isFinite(e)&&isFinite(i)&&isFinite(s)||throwException(NOT_SUPPORTED_ERR),this._queue.push(CREATE_LINEAR_GRADIENT,t,e,i,s),new CanvasGradient(this)},createRadialGradient:function(t,e,i,s,n,a){return isFinite(t)&&isFinite(e)&&isFinite(i)&&isFinite(s)&&isFinite(n)&&isFinite(a)||throwException(NOT_SUPPORTED_ERR),(0>i||0>a)&&throwException(INDEX_SIZE_ERR),this._queue.push(CREATE_RADIAL_GRADIENT,t,e,i,s,n,a),new CanvasGradient(this)},createPattern:function(t,e){t||throwException(TYPE_MISMATCH_ERR);var i,s,n,a=t.tagName,o=this._canvasId;if(a)if(a=a.toLowerCase(),"img"===a)i=t.getAttribute("src",2);else if(a===CANVAS)s=this._capture(t),n=t!==this.canvas;else{if("video"===a)return;throwException(TYPE_MISMATCH_ERR)}else t.src?i=t.src:throwException(TYPE_MISMATCH_ERR);return"repeat"!==e&&"no-repeat"!==e&&"repeat-x"!==e&&"repeat-y"!==e&&""!==e&&e!==NULL&&throwException(SYNTAX_ERR),s||(s=imageIds[o][i],n=s===undefined,n&&(s=this._cacheUrl(i))),this._queue.push(CREATE_PATTERN,s,e),n&&isReady[o]&&(this._executeCommand(),++lock[o]),new CanvasPattern(this)},clearRect:function(t,e,i,s){this._queue.push(CLEAR_RECT,t,e,i,s),this._timer||this._startTimer(),this._captured=FALSE},fillRect:function(t,e,i,s){this._setAttribute(ATTRIBUTE_FILL),this._queue.push(FILL_RECT,t,e,i,s),this._timer||this._startTimer(),this._captured=FALSE},strokeRect:function(t,e,i,s){this._setAttribute(ATTRIBUTE_STROKE|ATTRIBUTE_LINE),this._queue.push(STROKE_RECT,t,e,i,s),this._timer||this._startTimer(),this._captured=FALSE},beginPath:function(){this._queue.push(BEGIN_PATH)},closePath:function(){this._queue.push(CLOSE_PATH)},moveTo:function(t,e){this._queue.push(MOVE_TO,t,e)},lineTo:function(t,e){this._queue.push(LINE_TO,t,e)},quadraticCurveTo:function(t,e,i,s){this._queue.push(QUADRATIC_CURVE_TO,t,e,i,s)},bezierCurveTo:function(t,e,i,s,n,a){this._queue.push(BEZIER_CURVE_TO,t,e,i,s,n,a)},arcTo:function(t,e,i,s,n){0>n&&isFinite(n)&&throwException(INDEX_SIZE_ERR),this._queue.push(ARC_TO,t,e,i,s,n)},rect:function(t,e,i,s){this._queue.push(RECT,t,e,i,s)},arc:function(t,e,i,s,n,a){0>i&&isFinite(i)&&throwException(INDEX_SIZE_ERR),this._queue.push(ARC,t,e,i,s,n,a?1:0)},fill:function(){this._setAttribute(ATTRIBUTE_FILL),this._queue.push(FILL),this._timer||this._startTimer(),this._captured=FALSE},stroke:function(){this._setAttribute(ATTRIBUTE_STROKE|ATTRIBUTE_LINE),this._queue.push(STROKE),this._timer||this._startTimer(),this._captured=FALSE},clip:function(){this._queue.push(CLIP)},isPointInPath:function(t,e){return this._queue.push(IS_POINT_IN_PATH,t,e),"true"===this._executeCommand()},fillText:function(t,e,i,s){this._setAttribute(ATTRIBUTE_FILL|ATTRIBUTE_TEXT),this._texts.push(this._queue.length+1),this._queue.push(FILL_TEXT,t,e,i,s===undefined?1/0:s),this._timer||this._startTimer(),this._captured=FALSE},strokeText:function(t,e,i,s){this._setAttribute(ATTRIBUTE_STROKE|ATTRIBUTE_TEXT),this._texts.push(this._queue.length+1),this._queue.push(STROKE_TEXT,t,e,i,s===undefined?1/0:s),this._timer||this._startTimer(),this._captured=FALSE},measureText:function(t){var e=spans[this._canvasId];try{e.style.font=this.font}catch(i){}return e.innerText=(""+t).replace(/[ \n\f\r]/g,"	"),new TextMetrics(e.offsetWidth)},drawImage:function(t,e,i,s,n,a,o,h,_){t||throwException(TYPE_MISMATCH_ERR);var r,u,c,E=t.tagName,l=arguments.length,T=this._canvasId;if(E)if(E=E.toLowerCase(),"img"===E)r=t.getAttribute("src",2);else if(E===CANVAS)u=this._capture(t),c=t!==this.canvas;else{if("video"===E)return;throwException(TYPE_MISMATCH_ERR)}else t.src?r=t.src:throwException(TYPE_MISMATCH_ERR);if(u||(u=imageIds[T][r],c=u===undefined,c&&(u=this._cacheUrl(r))),this._setAttribute(ATTRIBUTE_IMAGE),3===l)this._queue.push(DRAW_IMAGE,l,u,e,i);else if(5===l)this._queue.push(DRAW_IMAGE,l,u,e,i,s,n);else{if(9!==l)return;(0===s||0===n)&&throwException(INDEX_SIZE_ERR),this._queue.push(DRAW_IMAGE,l,u,e,i,s,n,a,o,h,_)}c&&isReady[T]?(this._executeCommand(),++lock[T]):this._timer||this._startTimer(),this._captured=FALSE},createImageData:function(t,e){var i=Math.ceil;return 2===arguments.length?(isFinite(t)&&isFinite(e)||throwException(NOT_SUPPORTED_ERR),(0===t||0===e)&&throwException(INDEX_SIZE_ERR)):(t instanceof ImageData||throwException(NOT_SUPPORTED_ERR),e=t.height,t=t.width),t=i(0>t?-t:t),e=i(0>e?-e:e),new ImageData(t,e)},getImageData:function(sx,sy,sw,sh){isFinite(sx)&&isFinite(sy)&&isFinite(sw)&&isFinite(sh)||throwException(NOT_SUPPORTED_ERR),(0===sw||0===sh)&&throwException(INDEX_SIZE_ERR),this._queue.push(GET_IMAGE_DATA,sx,sy,sw,sh);var json=this._executeCommand(),width,height,data;return data="object"==typeof JSON?JSON.parse(json):document.documentMode?eval(json):json.slice(1,-1).split(","),width=data.shift(),height=data.shift(),new ImageData(width,height,data)},putImageData:function(t,e,i,s,n,a,o){t instanceof ImageData||throwException(TYPE_MISMATCH_ERR),isFinite(e)&&isFinite(i)||throwException(NOT_SUPPORTED_ERR);var h=arguments.length,_=t.width,r=t.height,u=t.data;3===h?this._queue.push(PUT_IMAGE_DATA,h,_,r,u.toString(),e,i):7===h&&(isFinite(s)&&isFinite(n)&&isFinite(a)&&isFinite(o)||throwException(NOT_SUPPORTED_ERR),this._queue.push(PUT_IMAGE_DATA,h,_,r,u.toString(),e,i,s,n,a,o)),this._timer||this._startTimer(),this._captured=FALSE},loadFont:function(t,e,i){var s=this._canvasId;(e||i)&&(callbacks[s][t]=[t,e,i]),this._texts.push(this._queue.length+1),this._queue.push(LOAD_FONT,t),isReady[s]?(this._executeCommand(),++lock[s]):this._timer||this._startTimer()},loadImage:function(t,e,i){var s,n,a=t.tagName,o=this._canvasId;a?"img"===a.toLowerCase()&&(s=t.getAttribute("src",2)):t.src&&(s=t.src),s&&imageIds[o][s]===undefined&&(n=this._cacheUrl(s),(e||i)&&(callbacks[o][n]=[t,e,i]),this._queue.push(DRAW_IMAGE,1,n),isReady[o]&&(this._executeCommand(),++lock[o]))},_initialize:function(){this.globalAlpha=this._globalAlpha=1,this.globalCompositeOperation=this._globalCompositeOperation="source-over",this.strokeStyle=this._strokeStyle="#000000",this.fillStyle=this._fillStyle="#000000",this.lineWidth=this._lineWidth=1,this.lineCap=this._lineCap="butt",this.lineJoin=this._lineJoin="miter",this.miterLimit=this._miterLimit=10,this.shadowOffsetX=this._shadowOffsetX=0,this.shadowOffsetY=this._shadowOffsetY=0,this.shadowBlur=this._shadowBlur=0,this.shadowColor=this._shadowColor="rgba(0, 0, 0, 0.0)",this.font=this._font="10px sans-serif",this.textAlign=this._textAlign="start",this.textBaseline=this._textBaseline="alphabetic",this._queue=[],this._stateStack=[],this._colors=[],this._texts=[],this._timer=NULL,this._pulse=1},_setAttribute:function(t){var e,i,s=this._queue;if(this._globalAlpha!==this.globalAlpha&&s.push(GLOBAL_ALPHA,this._globalAlpha=this.globalAlpha),this._globalCompositeOperation!==this.globalCompositeOperation&&s.push(GLOBAL_COMPOSITE_OPERATION,this._globalCompositeOperation=this.globalCompositeOperation),this._shadowOffsetX!==this.shadowOffsetX&&s.push(SHADOW_OFFSET_X,this._shadowOffsetX=this.shadowOffsetX),this._shadowOffsetY!==this.shadowOffsetY&&s.push(SHADOW_OFFSET_Y,this._shadowOffsetY=this.shadowOffsetY),this._shadowBlur!==this.shadowBlur&&s.push(SHADOW_BLUR,this._shadowBlur=this.shadowBlur),this._shadowColor!==this.shadowColor&&(e=this._shadowColor=this.shadowColor,(""+e).indexOf("%")>0&&this._colors.push(s.length+1),s.push(SHADOW_COLOR,e)),t&ATTRIBUTE_FILL&&this._fillStyle!==this.fillStyle&&(i=this._fillStyle=this.fillStyle,"string"==typeof i?(i.indexOf("%")>0&&this._colors.push(s.length+1),s.push(FILL_STYLE,i)):(i instanceof CanvasGradient||i instanceof CanvasPattern)&&s.push(FILL_STYLE,i.id)),t&ATTRIBUTE_STROKE&&this._strokeStyle!==this.strokeStyle&&(i=this._strokeStyle=this.strokeStyle,"string"==typeof i?(i.indexOf("%")>0&&this._colors.push(s.length+1),s.push(STROKE_STYLE,i)):(i instanceof CanvasGradient||i instanceof CanvasPattern)&&s.push(STROKE_STYLE,i.id)),t&ATTRIBUTE_LINE&&(this._lineWidth!==this.lineWidth&&s.push(LINE_WIDTH,this._lineWidth=this.lineWidth),this._lineCap!==this.lineCap&&s.push(LINE_CAP,this._lineCap=this.lineCap),this._lineJoin!==this.lineJoin&&s.push(LINE_JOIN,this._lineJoin=this.lineJoin),this._miterLimit!==this.miterLimit&&s.push(MITER_LIMIT,this._miterLimit=this.miterLimit)),t&ATTRIBUTE_TEXT){if(this._font!==this.font){var n=spans[this._canvasId].offsetHeight;this._texts.push(s.length+2),s.push(FONT,n,this._font=this.font)}this._textAlign!==this.textAlign&&s.push(TEXT_ALIGN,this._textAlign=this.textAlign),this._textBaseline!==this.textBaseline&&s.push(TEXT_BASELINE,this._textBaseline=this.textBaseline),this._direction!==this.canvas.currentStyle.direction&&s.push(DIRECTION,this._direction=this.canvas.currentStyle.direction)}},_startTimer:function(){var t=this;t._timer=setTimeout(function(){lock[t._canvasId]?t._startTimer():(t._timer=NULL,t._executeCommand(option.turbo))},option.delay)},_stopTimer:function(){clearTimeout(this._timer),this._timer=NULL},_executeCommand:function(t){var e,i,s,n,a=this._colors,o=this._texts,h=this._queue,_=this._swf;if(h.length){if(this._timer&&this._stopTimer(),t){for(e=0,i=a.length;i>e;++e)s=a[e],h[s]=encodeURI(h[s]);for(e=0,i=o.length;i>e;++e)s=o[e],h[s]=encodeURIComponent(h[s])}else for(e=0,i=o.length;i>e;++e)s=o[e],h[s]=encodeXML(h[s]);if(n=h.join(""),this._queue=[],this._colors=[],this._texts=[],!t)return _.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+n+"</string></arguments></invoke>");_.flashvars="c="+n,_.width=_.clientWidth+this._pulse,this._pulse^=-2}},_resize:function(t,e){this._executeCommand(),this._initialize(),t>0&&(this._swf.width=t),e>0&&(this._swf.height=e),this._queue.push(RESIZE,t,e),this._timer||this._startTimer(),this._captured=FALSE},_capture:function(t){var e,i,s=t.getContext("2d")._canvasId,n=CANVAS+":"+s;return(0===t.width||0===t.height)&&throwException(INVALID_STATE_ERR),s!==this._canvasId&&(e=canvases[s].getContext("2d"),e._captured||(i=++captures[s],n+=":"+i,e._queue.push(CAPTURE,i),e._timer||e._startTimer(),e._captured=TRUE)),n},_cacheUrl:function(t){var e=this._canvasId,i=imageIds[e],s=urls[e],n=i[t]=imageCounter[e]++;if(n>=option.imageCacheSize-1&&(imageCounter[e]=0),n in s){var a=s[n];delete i[a]}return this._texts.push(this._queue.length+2),this._queue.push(DICTIONARY,n,t),s[n]=t,n}};var CanvasGradient=function(t){this._ctx=t,this.id=t._gradientPatternId++};CanvasGradient.prototype={addColorStop:function(t,e){(isNaN(t)||0>t||t>1)&&throwException(INDEX_SIZE_ERR);var i=this._ctx,s=this.id;(""+e).indexOf("%")>0&&i._colors.push(i._queue.length+3),i._queue.push(ADD_COLOR_STOP,s,t,e)}};var CanvasPattern=function(t){this.id=t._gradientPatternId++},TextMetrics=function(t){this.width=t},ImageData=function(t,e,i){if(!i){i=[];for(var s=0,n=t*e*4;n>s;++s)i[s]=0}this.width=t,this.height=e,this.data=i},DOMException=function(t){this.code=t,this.message=DOMExceptionNames[t]};DOMException.prototype=new Error;var DOMExceptionNames={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"},FlashCanvas={initElement:function(t){if(t.getContext)return t;var e=getUniqueId(),i=OBJECT_ID_PREFIX+e;isReady[e]=FALSE,imageIds[e]={},urls[e]=[],imageCounter[e]=0,lock[e]=1,captures[e]=0,callbacks[e]=[],setCanvasSize(t),t.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+location.protocol+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+i+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+i+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>',canvases[e]=t;var s=t.firstChild;spans[e]=t.lastChild;var n=document.body.contains;if(n(t))s.movie=SWF_URL;else var a=setInterval(function(){n(t)&&(clearInterval(a),s.movie=SWF_URL)},0);"BackCompat"!==document.compatMode&&window.XMLHttpRequest||(spans[e].style.overflow="hidden");var o=new CanvasRenderingContext2D(t,s);t.getContext=function(t){return"2d"===t?o:NULL},t.toDataURL=function(e,i){return 0===t.width||0===t.height?"data:,":("image/jpeg"===(""+e).replace(/[A-Z]+/g,toLowerCase)?o._queue.push(TO_DATA_URL,e,"number"==typeof i?i:""):o._queue.push(TO_DATA_URL,e),o._executeCommand().slice(1,-1))},s.attachEvent(ON_FOCUS,onFocus),option.disableContextMenu&&(s.attachEvent(ON_MOUSE_DOWN,onMouseDown),t.attachEvent(ON_MOUSE_UP,onMouseUp)),option.usePolicyFile&&o._queue.push(OPTION,"usePolicyFile",option.usePolicyFile);var h=o._queue.length;return o._texts.push(h+2,h+5),o._queue.push(OPTION,"proxy",option.proxy,OPTION,"save",option.save),t},saveImage:function(t,e){var i=t.firstChild;i.saveImage(e)},setOptions:function(t){for(var e in t){var i=t[e];switch(e){case"turbo":option.turbo=i;break;case"delay":option.delay=i;break;case"disableContextMenu":option.disableContextMenu=i,disableContextMenu(i);break;case"imageCacheSize":option.imageCacheSize=i;break;case"usePolicyFile":setOption(e,option.usePolicyFile=i?TRUE:FALSE);break;case"proxy":setOption(e,option.proxy=i);break;case"save":setOption(e,option.save=i)}}},trigger:function(t,e){var i=canvases[t];i.fireEvent("on"+e)},unlock:function(t,e,i){var s,n,a,o,h,_,r;lock[t]&&--lock[t],e===undefined?(s=canvases[t],n=s.firstChild,setCanvasSize(s),a=s.width,o=s.height,s.style.width=a+"px",s.style.height=o+"px",a>0&&(n.width=a),o>0&&(n.height=o),n.resize(a,o),s.attachEvent(ON_PROPERTY_CHANGE,onPropertyChange),isReady[t]=TRUE,"function"==typeof s.onload&&setTimeout(function(){s.onload()},0)):(h=callbacks[t][e])&&(_=h[0],r=h[1+i],delete callbacks[t][e],"function"==typeof r&&r.call(_))}};if(document.createElement(CANVAS),document.createStyleSheet().cssText=CANVAS+"{display:inline-block;overflow:hidden;width:300px;height:150px}",option.autoinit&&("complete"===document.readyState?onReadyStateChange():document.attachEvent(ON_READY_STATE_CHANGE,onReadyStateChange)),window.attachEvent(ON_UNLOAD,onUnload),0===SWF_URL.indexOf(location.protocol+"//"+location.host+"/")){var req=new ActiveXObject("Microsoft.XMLHTTP");req.open("GET",SWF_URL,!1),req.send(NULL)}window[CANVAS_RENDERING_CONTEXT_2D]=CanvasRenderingContext2D,window[CANVAS_GRADIENT]=CanvasGradient,window[CANVAS_PATTERN]=CanvasPattern,window[FLASH_CANVAS]=FlashCanvas,window[G_VML_CANVAS_MANAGER]={init:function(){},init_:function(){},initElement:FlashCanvas.initElement}}(window,document);